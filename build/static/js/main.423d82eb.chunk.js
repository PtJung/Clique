(this.webpackJsonpclique=this.webpackJsonpclique||[]).push([[0],{127:function(e,a,t){e.exports={renewalButton:"SessionResetModal_renewalButton__1aXhZ"}},128:function(e,a,t){e.exports={videoPicker:"VideoPicker_videoPicker__8XEyr"}},13:function(e,a,t){e.exports={unselectable:"SignUpWindow_unselectable__x1TZy",signUpWrap:"SignUpWindow_signUpWrap__3JxGD",signUpBox:"SignUpWindow_signUpBox__2sETQ",iconContainer:"SignUpWindow_iconContainer__2sLoG",iconHelper:"SignUpWindow_iconHelper__RkSod",icon:"SignUpWindow_icon__3rXRU",iconTextContainer:"SignUpWindow_iconTextContainer__9NfBV",formWrapper:"SignUpWindow_formWrapper__27gxl",formInputSeparator:"SignUpWindow_formInputSeparator__XVD28",formInput:"SignUpWindow_formInput__2iyWm",formCheckSubContainer:"SignUpWindow_formCheckSubContainer__YZEoU",checkboxContainer:"SignUpWindow_checkboxContainer__29vPF",signUpContainer:"SignUpWindow_signUpContainer__2qUfh",signUpButton:"SignUpWindow_signUpButton__V_is2",backButton:"SignUpWindow_backButton__1fCxI",termsCaption:"SignUpWindow_termsCaption__EbUdQ"}},141:function(e,a,t){e.exports=t(226)},146:function(e,a,t){},148:function(e,a,t){},17:function(e,a){e.exports={JOIN_ROOM:"JOIN_ROOM",REQ_VIDEO:"REQ_VIDEO",END_VIDEO:"END_VIDEO",SET_VID:"SET_VID",RESP_MSG:"RESP_MSG",SEND_MSG:"SEND_MSG",SET_MSGS:"SET_MSGS",UPD_MSGS:"UPD_MSGS",GET_VTIME:"GET_VTIME",SET_VTIME:"SET_VTIME",NAV_VTIME:"NAV_VTIME",GET_USERS:"GET_USERS",SET_PLAY:"SET_PLAY",SEND_NTCE:"SEND_NTCE"}},20:function(e,a,t){e.exports={unselectable:"VideoPlayer_unselectable__21rtG",videoWrapper:"VideoPlayer_videoWrapper__1j4LL",controlsBar:"VideoPlayer_controlsBar__2vH7B",timeNavBar:"VideoPlayer_timeNavBar__2dZFc",progressBar:"VideoPlayer_progressBar__4wv_p",playerWidget:"VideoPlayer_playerWidget__3Mcly",playButton:"VideoPlayer_playButton__iNOez",volumeWidget:"VideoPlayer_volumeWidget__AHrZn",volumeButton:"VideoPlayer_volumeButton__MU0ZT",volumeIcon:"VideoPlayer_volumeIcon__1hNCz",volumeScrollBarWrapper:"VideoPlayer_volumeScrollBarWrapper__1Q1IB",volumeScrollBar:"VideoPlayer_volumeScrollBar__GoRL0",volumeScrollBarBg:"VideoPlayer_volumeScrollBarBg__2l5kl",volumeScrollBarKnob:"VideoPlayer_volumeScrollBarKnob__2Psqp",timeCaption:"VideoPlayer_timeCaption__2nU-j",fullScreenButton:"VideoPlayer_fullScreenButton__18MrT"}},21:function(e,a,t){e.exports={bSearch:"TWidgetBox_bSearch__3QE3g",unselectable:"TWidgetBox_unselectable__1SPCA",widboxContainer:"TWidgetBox_widboxContainer__1FBmM",createButton:"TWidgetBox_createButton__2MzQT",refreshButton:"TWidgetBox_refreshButton__2YQYA",separatorTop:"TWidgetBox_separatorTop__2cBbJ",separatorBot:"TWidgetBox_separatorBot__xhVDz",captionSeparator:"TWidgetBox_captionSeparator__1XerM",widgetDivider:"TWidgetBox_widgetDivider__1xsoY",widgetSeparator:"TWidgetBox_widgetSeparator__2Yqmg",tableSeparator:"TWidgetBox_tableSeparator__TpRHq",formSeparator:"TWidgetBox_formSeparator__2_EdR",lock:"TWidgetBox_lock__7772S",columnHeader:"TWidgetBox_columnHeader__nOgYh",roomNameCaption:"TWidgetBox_roomNameCaption__2PMWt"}},22:function(e,a,t){e.exports={unselectable:"AboutBox_unselectable__UBct5",aboutboxContainer:"AboutBox_aboutboxContainer__3KMSd",separatorTop:"AboutBox_separatorTop__3NP7r",brand:"AboutBox_brand__-tnzb",separatorButtonTop:"AboutBox_separatorButtonTop__2EZcO",roomButton:"AboutBox_roomButton__2jrRk",logoSeries:"AboutBox_logoSeries__erlGy",logo:"AboutBox_logo__H1WVS"}},222:function(e,a){},226:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(15),c=t.n(o),s=(t(146),t(134)),l=t(19),i=(t(147),t(148),t(6)),u=t.n(i),m=t(10),d=t(5),p=t(121),f=t(260),b=t(9),v=t.n(b),h=t(11),_=t.n(h),g=function(){return _.a.get("http://localhost:5000/api/users").then((function(e){return e.data})).catch((function(e){console.log("Failed (1): "+e)}))},E=function(){return _.a.get("http://localhost:5000/api/rooms").then((function(e){return e.data})).catch((function(e){console.log("Failed (2): "+e)}))},C=function(){return _.a.get("http://localhost:5000/api/users/auth/verify").then(function(){var e=Object(m.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("http://localhost:5000/api/users/auth/retrieve",{id:a.data.id});case 2:return(t=e.sent).data&&a&&(t.data.exp=a.data.exp),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.log("Failed (3): "+e)}))},y=function(e,a){return _.a.post("http://localhost:5000/api/users/roomauth/obtain",{code:e,id:a}).then(function(){var e=Object(m.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("http://localhost:5000/api/users/roomauth/verify");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){console.log("Failed (4): "+e)}))},x=function(e,a,t,n){return _.a.patch("http://localhost:5000/api/rooms/enter",{dispName:a,roomCode:n,guestName:e,guestId:t}).then((function(e){return e.data})).catch((function(e){console.log("Failed (5): "+e)}))},w=function(){return"?"+(new Date).getTime().toString(36)},S=t(2),N=t.n(S);var O=function(){var e=Object(n.useState)(""),a=Object(d.a)(e,2),t=a[0],o=a[1],c=Object(n.useState)(!1),s=Object(d.a)(c,2),l=s[0],i=s[1];return Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:(a=e.sent)&&a.data&&o(a.data.username),i(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()})),r.a.createElement("nav",{className:N()("navbar navbar-expand-lg navbar-light shadow-sm bg-light rounded",v.a.navbar)},r.a.createElement("div",{id:"navbarContainer",className:v.a.navbarContainer},r.a.createElement("div",{className:v.a.navLeft},r.a.createElement("a",{href:"/",className:v.a.unselectable},r.a.createElement("span",{className:v.a.bIcon},r.a.createElement("img",{src:"/brand.png",className:v.a.unselectable,height:"36",alt:"Clique",draggable:"false",onContextMenu:function(e){e.preventDefault()}}))),r.a.createElement("span",{className:v.a.navIconSeparator}),r.a.createElement(p.a,{href:"/",variant:"light",className:N()(v.a.capsule,v.a.unselectable,v.a.bWebsite)},"Home"),r.a.createElement("span",{className:v.a.navSeparator}),r.a.createElement(p.a,{href:"/rooms",variant:"light",className:N()(v.a.capsule,v.a.unselectable,v.a.bWebsite)},"Rooms")),r.a.createElement("div",{className:v.a.navRight},l?r.a.createElement(r.a.Fragment,null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:v.a.unselectable},t),r.a.createElement("span",{style:{padding:"0 2px"}}),r.a.createElement(f.a,null,r.a.createElement(f.a.Toggle,{variant:"light",className:N()(v.a.sqButton,v.a.unselectable)},"\u2bc6"),r.a.createElement(f.a.Menu,null,r.a.createElement(f.a.Item,{onClick:Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("http://localhost:5000/api/users/auth/clear");case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})))},"Sign Out"),r.a.createElement(f.a.Item,{style:{color:"#c00"},onClick:Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post("http://localhost:5000/api/users/delete",{username:t});case 2:return e.next=4,_.a.post("http://localhost:5000/api/users/auth/clear");case 4:window.location.reload();case 5:case"end":return e.stop()}}),e)})))},"Delete Account")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{href:"/login",variant:"outline-primary",className:N()(v.a.capsule,v.a.unselectable,v.a.bLogin)},"Log in"),r.a.createElement("span",{className:v.a.navSeparator}),r.a.createElement(p.a,{href:"/signup",variant:"primary",className:N()(v.a.capsule,v.a.unselectable,v.a.bSignUp)},"Sign up"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:N()(v.a.capsule,v.a.unselectable,v.a.delayed)}),r.a.createElement("span",{className:v.a.navSeparator}),r.a.createElement("div",{className:N()(v.a.capsule,v.a.unselectable,v.a.delayed)})))))},j=t(45),B=t(46),T=t(49),I=t(47),k=t(256),M=t(257),W=t(259),D=t(261),R=t(258),P=t(60),V=t.n(P),A=t(8),U=t.n(A),L=["You must have a room name.","Cannot be over 24 characters.","This name is not available."],q=["Cannot be over 100 characters.","Passwords are limited to ASCII."],H=["Must be a positive integer.","Must be between ".concat(2," and ").concat(50,".")];function F(e){return[e.length<1,e.length>24,!1]}function G(e){return[e.length>100,!/^[\x20-\x7F]*$/.test(e)]}function z(e){return[!/^\d+$/.test(e),parseInt(e)>50||2>parseInt(e)]}var Y=function(){var e=Object(n.useState)(-1),a=Object(d.a)(e,2),t=a[0],o=a[1],c=Object(n.useState)(-1),s=Object(d.a)(c,2),l=s[0],i=s[1],f=Object(n.useState)(-1),b=Object(d.a)(f,2),v=b[0],h=b[1],g=Object(n.useState)(""),E=Object(d.a)(g,2),x=E[0],w=E[1],S=Object(n.useState)(""),O=Object(d.a)(S,2),j=O[0],B=O[1],T=Object(n.useState)("10"),I=Object(d.a)(T,2),k=I[0],M=I[1],P=Object(n.useState)(!1),A=Object(d.a)(P,2),Y=A[0],J=A[1],X=Object(n.useState)(!1),Q=Object(d.a)(X,2),K=Q[0],Z=Q[1],$=function(){o(-1),i(-1),h(-1),w(""),B(""),M("10"),J(!1)};return Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:(a=e.sent)&&a.data&&Z(!0),U()("#createButton").unbind("click"),U()("#createButton").on("click",(function(){var e=U()(this);e.attr("disabled",!0),window.setTimeout((function(){e.attr("disabled",!1)}),500)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()})),r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{variant:"outline-dark",onClick:function(){return J(!0)},className:N()(V.a.unselectable,V.a.createButton),disabled:!K,title:K?"":"You must log in to use this feature!"},"Create"),r.a.createElement(W.a,{id:"createRoomModal",show:Y,onHide:$,animation:!1,centered:!0},r.a.createElement(W.a.Header,{closeButton:!0},r.a.createElement(W.a.Title,null,"Create Room")),r.a.createElement(D.a,null,r.a.createElement(W.a.Body,null,r.a.createElement(R.a,{id:"formRoomName",label:"Room Name",type:"text",variant:"outlined",size:"small",value:x,required:!0,style:{width:"70%"},onChange:function(e){return w(e.target.value)},error:t>=0,helperText:t>=0?L[t]:" "}),r.a.createElement("div",{className:V.a.formSeparator}),r.a.createElement(R.a,{id:"formRoomPass",label:"Password",type:"text",variant:"outlined",size:"small",value:j,style:{width:"70%"},onChange:function(e){return B(e.target.value)},error:l>=0,helperText:l>=0?q[l]:" "}),r.a.createElement("div",{className:V.a.formSeparator}),r.a.createElement(R.a,{id:"formMaxUsers",label:"Capacity",type:"number",variant:"outlined",size:"small",value:k,required:!0,onChange:function(e){return M(e.target.value)},error:v>=0,helperText:v>=0?H[v]:"Enter an integer between ".concat(2," and ").concat(50),InputProps:{inputProps:{min:2,max:50}}})),r.a.createElement(W.a.Footer,null,r.a.createElement(p.a,{variant:"secondary",onClick:$},"Cancel"),r.a.createElement(p.a,{id:"createButton",variant:"primary",type:"submit",disabled:!K,onClick:Object(m.a)(u.a.mark((function e(){var a,t,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=F(x).indexOf(!0),t=G(j).indexOf(!0),n=z(k).indexOf(!0),a+t+n!==-3){e.next=17;break}return e.next=6,C();case 6:if(!(r=e.sent).data){e.next=17;break}return e.next=10,s=r.data.username,l=r.data._id,u=x,m=j,d=parseInt(k),_.a.post("http://localhost:5000/api/rooms/create",{host:s,hostId:l,name:u,password:m,usercap:d}).then((function(e){return e.data})).catch((function(e){}));case 10:if(!(c=e.sent)){e.next=16;break}return e.next=14,y(c.code,r.data._id);case 14:return window.location.pathname+="/".concat(c.code),e.abrupt("return");case 16:window.location.reload();case 17:o(a),i(t),h(n);case 20:case"end":return e.stop()}var s,l,u,m,d}),e)})))},"Create")))))},J=t(41),X=t.n(J),Q=(t(171),["You must have a display name.","Cannot be over 36 characters.","This display name is not available."]);function K(e){return[e.length<1,e.length>36,!1]}function Z(e,a,t){return!e||a===t}var $=function(e){var a=Object(n.useState)(-1),t=Object(d.a)(a,2),o=t[0],c=t[1],s=Object(n.useState)(!1),l=Object(d.a)(s,2),i=l[0],f=l[1],b=Object(n.useState)(""),v=Object(d.a)(b,2),h=v[0],_=v[1],g=Object(n.useState)(""),E=Object(d.a)(g,2),C=E[0],S=E[1],O=e.rowData[2].userCountCurr===e.rowData[2].userCountMax,j=e.rowData[3].length>0,B=e.sessData;return Object(n.useEffect)((function(){U()("#joinButton").unbind("click"),U()("#joinButton").on("click",(function(){var e=U()(this);e.attr("disabled",!0),window.setTimeout((function(){e.attr("disabled",!1)}),500)})),U()("#joinRoomModal").unbind("hidden.bs.modal"),U()("#joinRoomModal").on("hidden.bs.modal",(function(e){c(-1),f(!1),_(""),S("")}))})),r.a.createElement("div",{className:"modal",id:"joinRoomModal"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"modal-title",style:{fontSize:"24px",fontWeight:"500"}},"Join Room"),r.a.createElement("button",{type:"button",className:N()("close",X.a.closeButton),"data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement(D.a,null,r.a.createElement("div",{className:N()("modal-content",X.a.contentContainer),style:{padding:"1rem"}},r.a.createElement("span",{className:X.a.contentBox},r.a.createElement(R.a,{id:"formNameInput",label:"Display Name",type:"text",variant:"outlined",size:"small",value:h,required:!B,onChange:function(e){return _(e.target.value)},error:o>=0,helperText:o>=0?Q[o]:" "}),r.a.createElement("span",{className:X.a.formSeparator}),r.a.createElement(R.a,{id:"formPassInput",label:"Password",type:"text",variant:"outlined",size:"small",value:C,style:{display:j?"inline-block":"none",float:"right"},onChange:function(e){return S(e.target.value)},error:i,helperText:i?"Wrong password.":" "})),r.a.createElement("div",{className:X.a.formSeparator}),r.a.createElement("span",{className:X.a.contentBox},r.a.createElement("div",{style:{fontSize:"16px",fontWeight:"500"}},r.a.createElement("b",null,"Name: ")," ",e.rowData[0],r.a.createElement("br",null),r.a.createElement("b",null,"Host: ")," ",e.rowData[1],r.a.createElement("br",null),r.a.createElement("b",null,"Users: ")," ","".concat(e.rowData[2].userCountCurr,"/").concat(e.rowData[2].userCountMax)))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement(p.a,{variant:"secondary",onClick:function(){return U()("#joinRoomModal").modal("hide")}},"Cancel"),r.a.createElement(p.a,{id:"joinButton",variant:"primary",type:"submit",disabled:O,title:O?"This room is full!":"",onClick:Object(m.a)(u.a.mark((function a(){var t,n,r,o,s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=K(h).indexOf(!0),n=Z(j,C,e.rowData[3]),!(-1===t||0===t&&B)||!n){a.next=12;break}return r=e.sessData?e.sessData._id:w(),o=h,s=e.sessData?e.sessData.username:"",a.next=8,x(s,o||s,r,e.rowData[4]);case 8:return a.next=10,y(e.rowData[4],r);case 10:return window.location.pathname+="/".concat(e.rowData[4]),a.abrupt("return");case 12:c(B&&0===t?-1:t),f(!n);case 14:case"end":return a.stop()}}),a)})))},"Join"))))))},ee=t(21),ae=t.n(ee);t(173);function te(e,a){var t=e.split("/").map((function(e){return parseInt(e,10)})),n=a.split("/").map((function(e){return parseInt(e,10)}));return t[0]===t[1]?-1:n[0]===n[1]?1:n[0]===t[0]?n[1]>t[1]?1:-1:n[0]>t[0]?1:-1}function ne(e){E().then((function(a){if(void 0===a)return U()("#failedAPICallAlert").show(),U()("#successAPICallAlert").hide(),void setTimeout((function(){U()("#failedAPICallAlert").hide()}),5e3);e&&(U()("#successAPICallAlert").show(),setTimeout((function(){U()("#successAPICallAlert").hide()}),5e3)),U()("#failedAPICallAlert").hide();var t=U()("#roomTable").DataTable().clear();Object.keys(a).forEach((function(e){var n=a[e];void 0!==n.users&&t.row.add([n.roomName,n.roomHost,{userCountCurr:n.users.length,userCountMax:n.maxUsers},n.roomPass,n.roomCode]),t.draw("false")}))}))}var re=function(){return r.a.createElement(k.a,{id:"successAPICallAlert",variant:"success",style:{display:"none"},onClose:function(){return U()("#successAPICallAlert").hide()},dismissible:!0},r.a.createElement("p",{className:ae.a.unselectable},"Updated rooms have been successfully retrieved."))},oe=function(){return r.a.createElement(k.a,{id:"failedAPICallAlert",variant:"danger",style:{display:"none"},onClose:function(){return U()("#failedAPICallAlert").hide()},dismissible:!0},r.a.createElement("p",{className:ae.a.unselectable},"Failed to retrieve updated rooms via Clique API. Please try again later."))},ce=function(e){Object(T.a)(t,e);var a=Object(I.a)(t);function t(e){var n;return Object(j.a)(this,t),(n=a.call(this,e)).state={rowData:["","",{userCountCurr:0,userCountMax:0},"",""],sessData:{_id:"",username:"",email:"",exp:0}},n}return Object(B.a)(t,[{key:"componentDidMount",value:function(){var e=this;U()(document).ready(Object(m.a)(u.a.mark((function a(){var t,n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return U.a.noConflict(),U.a.fn.dataTable.ext.oSort["userratio-asc"]=function(e,a){return-te(e,a)},U.a.fn.dataTable.ext.oSort["userratio-desc"]=function(e,a){return te(e,a)},t=U()("#roomTable").DataTable({order:[],language:{emptyTable:" "},columnDefs:[{targets:[0,1,2],className:ae.a.unselectable},{targets:2,searchable:!1,type:"userratio",render:function(e,a,t,n){return"".concat(e.userCountCurr,"/").concat(e.userCountMax)}},{targets:3,searchable:!1,className:ae.a.lock,render:function(e,a,t,n){return""===e?"":'<img src="/lock.png" className={styles.unselectable} alt="Locked" draggable="false" onContextMenu={function (e) {e.preventDefault()}} />'}}]}),ne(!1),n=function(){var a=Object(m.a)(u.a.mark((function a(){var t;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C();case 2:(t=a.sent)&&t.data&&e.setState({rowData:e.state.rowData,sessData:t.data});case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),a.next=8,n();case 8:U()("#roomTable tbody").on("click","tr",(function(a){var n=t.row(a.target).data();void 0!==n&&(e.setState({rowData:n,sessData:e.state.sessData}),U()("#joinRoomModal").modal("show"))})),U()("#roomTable tbody").css("cursor","pointer");case 10:case"end":return a.stop()}}),a)}))))}},{key:"render",value:function(){return r.a.createElement("div",{id:"widboxContainer",className:ae.a.widboxContainer},r.a.createElement($,{rowData:this.state.rowData,sessData:this.state.sessData}),r.a.createElement("div",{style:{height:"40px"}},r.a.createElement(oe,null),r.a.createElement(re,null)),r.a.createElement("div",{className:ae.a.separatorTop}),r.a.createElement("span",{className:ae.a.widgetDivider},r.a.createElement("h2",{className:N()(ae.a.unselectable,ae.a.roomNameCaption)},"Room List"),r.a.createElement("div",{className:ae.a.captionSeparator}),r.a.createElement(M.a,null,r.a.createElement(p.a,{variant:"outline-dark",className:N()(ae.a.unselectable,ae.a.refreshButton),id:"tableRefreshButton",onClick:function(){ne(!0);var e=document.getElementById("tableRefreshButton");e.disabled=!0,window.setTimeout((function(){e.disabled=!1}),5e3)}},"Refresh"),r.a.createElement(Y,null))),r.a.createElement("br",null),r.a.createElement("table",{id:"roomTable",className:"hover order-column row-border",style:{width:"100%"}},r.a.createElement("thead",null,r.a.createElement("tr",{style:{outline:"none"}},r.a.createElement("th",{style:{width:"45%"},className:ae.a.columnHeader},"Room Name"),r.a.createElement("th",{style:{width:"25%"},className:ae.a.columnHeader},"Host"),r.a.createElement("th",{style:{width:"15%"},className:ae.a.columnHeader},"Users"),r.a.createElement("th",{style:{width:"15%"},className:ae.a.columnHeader},"Password")))),r.a.createElement("div",{className:ae.a.separatorBot}))}}]),t}(n.Component),se=t(22),le=t.n(se),ie=function(e){Object(T.a)(t,e);var a=Object(I.a)(t);function t(){return Object(j.a)(this,t),a.apply(this,arguments)}return Object(B.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",null,r.a.createElement("div",{id:"aboutboxContainer",className:le.a.aboutboxContainer},r.a.createElement("div",{className:le.a.separatorTop},r.a.createElement("img",{src:"/brand_full.png",className:N()(le.a.unselectable,le.a.brand),height:"100",alt:"Clique",draggable:"false",onContextMenu:function(e){e.preventDefault()}})),r.a.createElement("div",{className:le.a.separatorButtonTop},r.a.createElement(p.a,{href:"/rooms",variant:"outline-dark",draggable:"false",className:N()(le.a.unselectable,le.a.roomButton)},"Start Watching")),r.a.createElement("div",null,r.a.createElement("p",{style:{textAlign:"justify"}},"This is an application built for watching YouTube videos with your friends in real-time, and was heavily insired by ",r.a.createElement("b",null,"Watch2Gether"),". Some notable differences are the Room List, custom display names, the options that come with creating rooms, and accounts."),r.a.createElement("br",null),r.a.createElement("p",{style:{textAlign:"justify"}},"Clique is currently being worked on to support all latest versions of modern browsers. The backend is powered by Node.js and Express.js, while the frontend uses the React library with Bootstrap. Mongoose interacts with MongoDB Atlas to store room session and user data and real-time video interactions are made through Socket.IO. Finally, jQuery is used to implement DataTables."),r.a.createElement("br",null),r.a.createElement("div",{className:le.a.logoSeries},r.a.createElement("img",{src:"/logo_mongodb.png",className:N()(le.a.unselectable,le.a.logo),alt:"MongoDB",draggable:"false",onContextMenu:function(e){e.preventDefault()}}),r.a.createElement("img",{src:"/logo_expressjs.png",className:N()(le.a.unselectable,le.a.logo),alt:"ExpressJS",draggable:"false",onContextMenu:function(e){e.preventDefault()}}),r.a.createElement("img",{src:"/logo_react.png",className:N()(le.a.unselectable,le.a.logo),alt:"React",draggable:"false",onContextMenu:function(e){e.preventDefault()}}),r.a.createElement("img",{src:"/logo_nodejs.png",className:N()(le.a.unselectable,le.a.logo),alt:"NodeJS",draggable:"false",onContextMenu:function(e){e.preventDefault()}})))))}}]),t}(n.Component),ue=t(13),me=t.n(ue),de=["This username is already taken!","This username is not available.","The username must be between 3 and 16 characters long.","The username may only consist of word characters (0-9, a-z, A-Z, _)"],pe=["This email is already taken!","You must have an email.","Enter a valid email."],fe=["The password must be between 8 and 100 characters long.","Passwords are limited to ASCII."],be=/^(([^<>()\]\\.,;:\s@"]+(\.[^<>()\]\\.,;:\s@"]+)*)|(".+"))@(([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function ve(e){return he.apply(this,arguments)}function he(){return(he=Object(m.a)(u.a.mark((function e(a){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,e.next=3,g().then((function(e){t=!e.some((function(e){return e.username.toUpperCase()===a.toUpperCase()}))}));case 3:return!1,n=3<=a.length&&a.length<=16,r=/^\w*$/.test(a),e.abrupt("return",[!t,!1,!n,!r]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e){return ge.apply(this,arguments)}function ge(){return(ge=Object(m.a)(u.a.mark((function e(a){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,e.next=3,g().then((function(e){t=!e.some((function(e){return e.email.toUpperCase()===a.toUpperCase()}))}));case 3:return n=0===a.length,r=be.test(a),e.abrupt("return",[!t,n,!r]);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(e){return[!(8<=e.length&&e.length<=100),!/^[\x20-\x7F]*$/.test(e)]}function Ce(e){return _.a.post("http://localhost:5000/api/users/auth/obtain",{email:e,ignorePass:!0}).then((function(e){return e.data})).catch((function(e){}))}var ye=function(){var e=Object(n.useState)(-1),a=Object(d.a)(e,2),t=a[0],o=a[1],c=Object(n.useState)(-1),s=Object(d.a)(c,2),l=s[0],i=s[1],f=Object(n.useState)(-1),b=Object(d.a)(f,2),v=b[0],h=b[1],g=Object(n.useState)(!1),E=Object(d.a)(g,2),C=E[0],y=E[1],x=Object(n.useState)(""),w=Object(d.a)(x,2),S=w[0],O=w[1],j=Object(n.useState)(""),B=Object(d.a)(j,2),T=B[0],I=B[1],k=Object(n.useState)(""),M=Object(d.a)(k,2),W=M[0],P=M[1],V=Object(n.useState)(""),A=Object(d.a)(V,2),U=A[0],L=A[1];return r.a.createElement("div",{className:me.a.signUpWrap},r.a.createElement("div",{className:N()("",me.a.signUpBox)},r.a.createElement("div",{className:me.a.iconContainer},r.a.createElement("span",{className:me.a.iconHelper}),r.a.createElement("span",{className:N()(me.a.iconTextContainer,me.a.unselectable)},r.a.createElement("img",{src:"/brand.png",className:me.a.icon,height:"64",alt:"Clique",draggable:"false",onContextMenu:function(e){e.preventDefault()}}),r.a.createElement("b",{style:{fontSize:"32px"}},"\xa0 Sign Up"))),r.a.createElement("div",{style:{padding:"10px"}}),r.a.createElement("div",{className:me.a.formWrapper},r.a.createElement(D.a,null,r.a.createElement(R.a,{id:"formInputUsername",className:me.a.formInput,label:"Username",type:"text",variant:"outlined",size:"small",required:!0,value:S,onChange:function(e){return O(e.target.value)},error:t>=0,helperText:t>=0?de[t]:" "}),r.a.createElement("div",{className:me.a.formInputSeparator}),r.a.createElement(R.a,{id:"formInputEmail",className:me.a.formInput,label:"Email",type:"text",variant:"outlined",size:"small",required:!0,value:W,onChange:function(e){return P(e.target.value)},error:v>=0,helperText:v>=0?pe[v]:"We'll never share your email with anyone else."}),r.a.createElement("div",{className:me.a.formInputSeparator}),r.a.createElement(R.a,{id:"formInputPassword",className:me.a.formInput,label:"Password",type:"password",variant:"outlined",size:"small",required:!0,value:T,onChange:function(e){return I(e.target.value)},error:l>=0,helperText:l>=0?fe[l]:" "}),r.a.createElement("div",{className:me.a.formInputSeparator}),r.a.createElement(R.a,{id:"formInputPasswordConf",className:me.a.formInput,label:"Confirm Password",type:"password",variant:"outlined",size:"small",required:!0,value:U,onChange:function(e){return L(e.target.value)},error:C,helperText:C?"The passwords do not match. Please try again.":" "}),r.a.createElement("div",{className:me.a.formInputSeparator}),r.a.createElement("div",{className:me.a.formCheckSubContainer},r.a.createElement("label",{className:N()("container",me.a.checkboxContainer),style:{paddingLeft:"5px"}},r.a.createElement("input",{id:"termsCheckbox",type:"checkbox"}),"\xa0\xa0\xa0 By signing up, you agree to our ",r.a.createElement("span",{className:me.a.termsCaption,onClick:function(){window.open(window.location.origin+"/terms")}},r.a.createElement("b",null,"Terms of Service")),".",r.a.createElement("span",{className:me.a.checkmark}))),r.a.createElement("div",{className:me.a.formInputSeparator}),r.a.createElement("div",{className:me.a.signUpContainer},r.a.createElement(p.a,{variant:"primary",className:me.a.signUpButton,onClick:Object(m.a)(u.a.mark((function e(){var a,t,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=-1,e.next=3,ve(S).then((function(e){return a=e.indexOf(!0)})).catch((function(e){return console.log(e)}));case 3:return t=-1,e.next=6,_e(W).then((function(e){return t=e.indexOf(!0)})).catch((function(e){return console.log(e)}));case 6:if(n=Ee(T).indexOf(!0),r=T!==U,c=document.getElementById("termsCheckbox").checked,a+t+n!==-3||r||!c){e.next=14;break}return e.next=12,s=S,l=W,d=T,void _.a.post("http://localhost:5000/api/users/add",{username:s,password:d,email:l}).catch((function(e){}));case 12:return setTimeout(Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce(W);case 2:window.location.href="/rooms";case 3:case"end":return e.stop()}}),e)}))),1),e.abrupt("return");case 14:o(a),h(t),i(n),y(r);case 18:case"end":return e.stop()}var s,l,d}),e)})))},"Sign Up"),r.a.createElement(p.a,{variant:"secondary",className:me.a.backButton,onClick:function(){window.location.href="/rooms"}},"Back"))))))},xe=t(23),we=t.n(xe);function Se(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(m.a)(u.a.mark((function e(a){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g().then((function(e){t=e.find((function(e){return e.username.toUpperCase()===a.toUpperCase()||e.email===a.toUpperCase()}))}));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oe=function(){var e=Object(n.useState)(!1),a=Object(d.a)(e,2),t=a[0],o=a[1],c=Object(n.useState)(""),s=Object(d.a)(c,2),l=s[0],i=s[1],f=Object(n.useState)(""),b=Object(d.a)(f,2),v=b[0],h=b[1];return Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:(a=e.sent)&&a.data&&!t&&(window.location.href="/rooms");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),U()("#loginButton").unbind("click"),U()("#loginButton").on("click",(function(){var e=U()(this);e.attr("disabled",!0),window.setTimeout((function(){e.attr("disabled",!1)}),500)}))})),r.a.createElement("div",{id:"master",className:we.a.logInWrap},r.a.createElement("div",{className:we.a.logInBox},r.a.createElement("div",{className:we.a.iconContainer},r.a.createElement("span",{className:we.a.iconHelper}),r.a.createElement("span",{className:N()(we.a.iconTextContainer,we.a.unselectable)},r.a.createElement("img",{src:"/brand.png",className:we.a.icon,height:"64",alt:"Clique",draggable:"false",onContextMenu:function(e){e.preventDefault()}}),r.a.createElement("b",{style:{fontSize:"32px"}},"\xa0 Log In"))),r.a.createElement("div",{style:{height:"20px"}}),r.a.createElement("div",{className:we.a.errorMessage},t?"The credentials you entered did not match our records. Please try again.":" "),r.a.createElement("div",{className:we.a.formWrapper},r.a.createElement(D.a,null,r.a.createElement(R.a,{id:"formInputIdentifier",className:we.a.formInput,label:"Username / Email",type:"text",variant:"outlined",size:"small",required:!0,value:l,onChange:function(e){return i(e.target.value)}}),r.a.createElement("div",{className:we.a.formInputSeparator}),r.a.createElement(R.a,{id:"formInputPassword",className:we.a.formInput,label:"Password",type:"password",variant:"outlined",size:"small",required:!0,value:v,onChange:function(e){return h(e.target.value)}}),r.a.createElement("div",{className:we.a.formInputSeparator}),r.a.createElement("div",{className:we.a.logInContainer},r.a.createElement(p.a,{id:"loginButton",variant:"primary",type:"submit",className:we.a.logInButton,onClick:Object(m.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,e.next=3,Se(l);case 3:if(void 0===(t=e.sent)){e.next=8;break}return e.next=7,n=t.email,r=v,_.a.post("http://localhost:5000/api/users/auth/obtain",{email:n,password:r,ignorePass:!1}).then((function(e){return e.data})).catch((function(e){}));case 7:a=e.sent;case 8:o(void 0===t||!a),h("");case 10:case"end":return e.stop()}var n,r}),e)})))},"Log In"))))))},je=t(40),Be=t(127),Te=t.n(Be);function Ie(e){return _.a.post("http://localhost:5000/api/users/auth/obtain",{email:e,ignorePass:!0}).then((function(e){return e.data})).catch((function(e){}))}var ke=function(){var e=Object(n.useState)(!1),a=Object(d.a)(e,2),t=a[0],o=a[1],c=Object(n.useState)(""),s=Object(d.a)(c,2),l=s[0],i=s[1];return Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:(a=e.sent)&&a.data&&(a.data.email&&(i(a.data.email),Ie(a.data.email)),a.data.exp&&(t=setTimeout((function(){var e,a=document.querySelectorAll(".modal"),n=Object(je.a)(a);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.parentNode.removeChild(r)}}catch(u){n.e(u)}finally{n.f()}var c,s=document.querySelectorAll(".modal-backdrop.show"),l=Object(je.a)(s);try{for(l.s();!(c=l.n()).done;){var i=c.value;i.parentNode.removeChild(i)}}catch(u){l.e(u)}finally{l.f()}o(!0),setInterval((function(){var e=document.querySelector(".modal-backdrop");e&&!e.style.display&&"hidden"!==U()(e).css("visibility")||window.location.reload()}),100),clearInterval(t)}),864e5)));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),r.a.createElement(W.a,{id:"sessionResetModal",show:t,onHide:function(){return o(!1)},animation:!1,keyboard:!1,backdrop:"static",centered:!0},r.a.createElement(W.a.Header,null,r.a.createElement(W.a.Title,null,"Session Expired")),r.a.createElement(W.a.Body,null,"Your session has expired due to inactivity.",r.a.createElement("br",null),r.a.createElement("br",null),"Press OK to re-establish your session."),r.a.createElement(W.a.Footer,null,r.a.createElement(p.a,{id:"renewalButton",className:Te.a.renewalButton,variant:"primary",onClick:function(){Ie(l),window.location.reload()}},"OK")))},Me=t(94),We=t.n(Me),De=function(e){Object(T.a)(t,e);var a=Object(I.a)(t);function t(){return Object(j.a)(this,t),a.apply(this,arguments)}return Object(B.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",null,r.a.createElement("div",{id:"termsboxContainer",className:We.a.termsboxContainer},r.a.createElement("div",{className:We.a.separatorTop},"Terms of Service"),r.a.createElement("div",null,r.a.createElement("p",{style:{textAlign:"justify"}},"Last updated: July 19, 2020",r.a.createElement("br",null),r.a.createElement("br",null),'Please read these terms and conditions (the "Terms of Service") carefully before using the Clique website (the "Service"). By signing up for a Clique Account and using the Services, you are agreeing to be bound by the following terms and conditions.',r.a.createElement("br",null),r.a.createElement("br",null),"Clique reserves the right to update and change the Terms of Service by posting updates and changes to the Clique website. You are advised to check the Terms of Service from time to time for any updates or changes that may impact you. If you do not accept such amendments, you must cease using the Services.",r.a.createElement("br",null),r.a.createElement("br",null),"If you're under the required age of 13 years old to manage your own Clique Account, you must have your parent or legal guardian's permission to use a Clique Account.",r.a.createElement("br",null),r.a.createElement("br",null),'While we have made attempts at ensuring that Clique is secure, this application is open-source and uses elementary concepts of security. There is no certainty that breaches in security will never occur. As such, you are advised to refrain from entering "real" personal information in signing up for a Clique Account. Clique is not responsible for any personal damages that may occur and proactive measures will not be taken.'))))}}]),t}(n.Component),Re=t(61),Pe=t.n(Re);var Ve=function(){return r.a.createElement("div",{className:Pe.a.footer},r.a.createElement("div",{className:Pe.a.termsContainer},r.a.createElement("div",{className:Pe.a.termsWrapper},"-\xa0",r.a.createElement("a",{href:"/terms",className:Pe.a.termsAnchor},"Terms of Service"),"\xa0-")))},Ae=t(24),Ue=t.n(Ae);var Le=function(e){var a=Object(n.useState)(""),t=Object(d.a)(a,2),o=t[0],c=t[1];return r.a.createElement("nav",{className:N()("navbar navbar-expand-lg navbar-light shadow-sm bg-light rounded",Ue.a.roomBar)},r.a.createElement("div",{id:"roomBarContainer",className:Ue.a.roomBarContainer},r.a.createElement("div",{className:Ue.a.roomBarContent},r.a.createElement("div",{className:Ue.a.navLeft},r.a.createElement("a",{href:"/",className:Ue.a.unselectable},r.a.createElement("span",{className:Ue.a.bIcon},r.a.createElement("img",{src:"/brand.png",className:Ue.a.unselectable,height:"36",alt:"Clique",draggable:"false",onContextMenu:function(e){e.preventDefault()}})))),r.a.createElement("div",{className:N()(Ue.a.navCenter,Ue.a.barWrapper)},r.a.createElement("div",{className:N()(Ue.a.barInputGroup,"input-group input-group-sm")},r.a.createElement("input",{placeholder:"Search","aria-label":"Search",className:N()(Ue.a.searchForm,"form-control"),onKeyPress:function(a){13!==a.which&&13!==a.keyCode||e.searchHandler(o)},onChange:function(e){return c(e.target.value)}}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{type:"button",className:N()(Ue.a.searchButton,"btn btn-light"),onClick:function(){return e.searchHandler(o)}},r.a.createElement("img",{src:"/widget_ico_search.png",className:Ue.a.unselectable,height:"14",alt:"Search",draggable:"false",onContextMenu:function(e){e.preventDefault()}}))))))))},qe=t(262),He=t(42),Fe=t.n(He);var Ge=function(e){return r.a.createElement(qe.a,{className:N()(Fe.a.videoCard,Fe.a.unselectable),onClick:function(){return e.clickHandler(e.videoId)},title:e.videoName},r.a.createElement(qe.a.Img,{className:Fe.a.unselectable,variant:"top",src:e.videoThumb}),r.a.createElement(qe.a.Body,{className:Fe.a.videoTitleWrapper},r.a.createElement(qe.a.Text,{className:Fe.a.videoTitleText},e.videoName)),r.a.createElement(qe.a.Text,{className:Fe.a.videoAuthorText},e.channelName))},ze=t(128),Ye=t.n(ze);var Je=function(e){var a=Object(n.useState)([]),t=Object(d.a)(a,2),o=t[0],c=t[1],s=function(a){e.clickHandler(a)};return Object(n.useEffect)((function(){var a=[];e.videoResults.forEach((function(e){try{var t=e.id.videoId,n=e.snippet.title,o=e.snippet.channelTitle,c=e.snippet.thumbnails.medium.url;a.push(r.a.createElement(Ge,{key:t,videoId:t,videoName:n,channelName:o,videoThumb:c,clickHandler:s}))}catch(l){}})),c(a)}),[e.videoResults]),r.a.createElement("ul",{className:Ye.a.videoPicker},o)},Xe=t(263),Qe=t(129),Ke=t(35),Ze=t(20),$e=t.n(Ze);var ea=function(e){var a=Object(n.useRef)(null),t=Object(n.useState)(-1),o=Object(d.a)(t,2),c=o[0],s=o[1],l=Object(n.useState)(0),i=Object(d.a)(l,2),u=i[0],m=i[1],p=Object(n.useState)(0),f=Object(d.a)(p,2),b=f[0],v=f[1],h=Object(n.useState)(0),_=Object(d.a)(h,2),g=_[0],E=_[1],C=Object(n.useState)(!1),y=Object(d.a)(C,2),x=y[0],w=y[1],S=Object(n.useState)(!1),O=Object(d.a)(S,2),j=O[0],B=O[1],T=Object(n.useState)(!0),I=Object(d.a)(T,2),k=I[0],M=I[1],W={height:"488",width:"800",playerVars:{origin:"".concat(window.location.protocol,"//").concat(window.location.host),enablejsapi:1,disablekb:1,rel:0,controls:0,modestbranding:1}},D=function(a){B(a),e.playHandler(a)},R=function(){m(0),D(!0),a.current.playVideo()},P=function(e,a,t){for(var n="",r=0;r<t-e.length;r++)n+=a;return n+e},V=function(e){var a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[24,60,60],n=[],r=!1,o=t.reduce((function(e,a){return e*a})),c=Object(je.a)(t);try{for(c.s();!(a=c.n()).done;){var s=a.value,l=e%o,i=e-l;r?n.push(P("".concat(i/o),"0",2)):i&&(r=!0,n.push("".concat(i/o))),e=l,o/=s}}catch(u){c.e(u)}finally{c.f()}return n.length||n.push("0"),n.push(P("".concat((e-e%o)/o),"0",2)),n.join(":")},A=function(e){if(a.current){var t=document.querySelector("#volumeKnob"),n=document.querySelector("#volumeScrBar"),r=n.getBoundingClientRect(),o=Math.min(Math.max(e.clientX-r.left,0),72);t.style.left="".concat(o-6,"px"),n.style.width="".concat(o,"px"),a.current.setVolume(100*o/72)}},U=function(t){var n=t.data;switch(n){case Ke.V_PLAY:E(setInterval((function(){var t=a.current.getCurrentTime();m(t),e.timeHandler(t)}),100)),v(t.target.getDuration()),j||t.target.pauseVideo();break;case Ke.V_PAUSE:clearInterval(g),c===Ke.V_END?R():j&&t.target.playVideo();break;case Ke.V_END:clearInterval(g),D(!1),m(b),e.endObserver(b);break;case Ke.V_BUFFER:clearInterval(g);break;case Ke.V_CUE:break;case Ke.V_UNSTARTED:if(j)if(t.target.playVideo(),k&&e.userCount>1)var r=setInterval((function(){t.target.getPlayerState()===Ke.V_PLAY&&(t.target.seekTo(e.startTime+((new Date).getTime()-e.offsetExecTime)/1e3,!0),M(!1),clearInterval(r))}),100);else 1===e.userCount&&M(!1);else R();break;default:return}t.target.setLoop(!1),s(n)};return Object(n.useEffect)((function(){B(e.isPlaying)}),[e.isPlaying]),Object(n.useEffect)((function(){a.current&&(j?a.current.playVideo():a.current.pauseVideo())}),[j]),Object(n.useEffect)((function(){var t;e.skipTime&&(t=e.skipTime,clearInterval(g),m(t),a.current.seekTo(t,!0))}),[e.skipTime]),r.a.createElement("div",{className:$e.a.videoWrapper},r.a.createElement(Qe.a,{videoId:e.videoId,opts:W,onReady:function(e){return function(e){a.current=e.target,D(!0)}(e)},onStateChange:function(e){return U(e)}}),r.a.createElement("div",{className:N()($e.a.controlsBar,$e.a.unselectable)},r.a.createElement("div",{className:$e.a.timeNavBar,onClick:function(a){return function(a){var t=a.currentTarget.getBoundingClientRect(),n=b*Math.min(Math.max((a.clientX-t.left)/(t.right-t.left),0),1);e.skipHandler(n)}(a)}},r.a.createElement(Xe.a,{className:$e.a.progressBar,variant:"danger",now:u,max:b})),r.a.createElement("button",{className:N()($e.a.playButton,$e.a.playerWidget),onClick:function(){return D(!j)},style:{fontSize:(j?"19":"18")+"px",paddingBottom:(j?"0":"1")+"px"}},j?"\u275a\u275a":"\u25b6"),r.a.createElement("div",{className:$e.a.volumeWidget},r.a.createElement("button",{className:N()($e.a.volumeButton,$e.a.playerWidget),onClick:function(){return w(!x)}},r.a.createElement("div",{className:$e.a.volumeIcon,alt:"Volume",draggable:"false",onContextMenu:function(e){e.preventDefault()}})),r.a.createElement("div",{className:N()($e.a.volumeScrollBarWrapper,$e.a.playerWidget),style:{display:x?"block":"none"}},r.a.createElement("div",{className:$e.a.volumeScrollBarBg}),r.a.createElement("div",{id:"volumeScrBar",className:$e.a.volumeScrollBar,onClick:function(e){return A(e)},onMouseDown:function(e){return A(e)}}),r.a.createElement("div",{id:"volumeKnob",className:$e.a.volumeScrollBarKnob,draggable:"true",onDrag:function(e){return A(e)},onDragEnd:function(e){return A(e)}}))),r.a.createElement("div",{className:N()($e.a.timeCaption,$e.a.playerWidget)},V(u)," / ",V(b)),r.a.createElement("button",{className:N()($e.a.fullScreenButton,$e.a.playerWidget),onClick:function(){a.current.getIframe().requestFullscreen()}},"\u26f6")))},aa=t(62),ta=t.n(aa);var na=function(e){var a=Object(n.useState)(""),t=Object(d.a)(a,2),o=t[0],c=t[1];return Object(n.useEffect)((function(){c(e.content.trim().substring(0,256))}),[e.content]),r.a.createElement("div",{className:ta.a.chatMsgBox,style:{backgroundColor:"".concat(e.notice?"#f9f2f2":"#f2f2f9")}},e.notice?r.a.createElement("div",null):r.a.createElement("div",{className:ta.a.chatMsgHeader},r.a.createElement("span",{title:"".concat(e.senderDisp).concat(e.senderReal?" ("+e.senderReal+")":""),style:{color:"".concat(e.senderIsOwner?"#a00":"black")}},e.senderDisp),r.a.createElement("span",{className:ta.a.chatMsgTimestamp},e.timestamp.map((function(e){return function(e,a,t){for(var n="",r=0;r<t-e.length;r++)n+=a;return n+e}("".concat(e),"0",2)})).join(":"))),r.a.createElement("div",{className:ta.a.chatMsgContent},e.notice?function(e){var a=[],t=(" "+e).split("*");t[0]=t[0].substring(1);for(var n=0;n<t.length;n++)n%2===1?a.push(r.a.createElement("b",{key:n},t[n])):a.push(r.a.createElement("span",{key:n},t[n]));return a}(o):o))},ra=t(36),oa=t.n(ra);var ca=function(e){var a=Object(n.useState)(""),t=Object(d.a)(a,2),o=t[0],c=t[1],s=Object(n.useState)(""),l=Object(d.a)(s,2),i=l[0],u=l[1],m=Object(n.useState)(!1),p=Object(d.a)(m,2),f=p[0],b=p[1],v=Object(n.useState)(""),h=Object(d.a)(v,2),_=h[0],g=h[1],E=function(){_&&(e.handleSendMsg(o||"Anonymous",i,f,_),g(""))};return Object(n.useEffect)((function(){!function(){var e=document.getElementById("msgBoxScrollable");e&&setTimeout((function(){e.scrollTop=e.scrollHeight}),1)}()}),[e.display,e.msgList]),Object(n.useEffect)((function(){c(e.userMetadata.dispName||o),u(e.userMetadata.realName||i),b(e.userMetadata.isOwner||f)}),[e.userMetadata]),r.a.createElement(r.a.Fragment,null,e.display?r.a.createElement("div",{className:oa.a.chatBox},r.a.createElement("div",{className:oa.a.chatRoomContainer},r.a.createElement("div",{id:"msgBoxScrollable",className:oa.a.msgBoxContainer},function(e){var a,t=[],n=Object(je.a)(e);try{for(n.s();!(a=n.n()).done;){var o=a.value,c={};c=o.notice?r.a.createElement(na,{notice:!0,key:o.key,content:o.content}):r.a.createElement(na,{notice:!1,key:o.key,content:o.content,senderDisp:o.senderDisp,senderReal:o.senderReal,senderIsOwner:o.senderIsOwner,timestamp:o.timestamp}),t.push(c)}}catch(s){n.e(s)}finally{n.f()}return t}(e.msgList))),r.a.createElement("div",{className:oa.a.msgWidgContainer},r.a.createElement("input",{placeholder:"Message","aria-label":"Message",className:N()(oa.a.chatForm,"form-control"),onKeyPress:function(e){13!==e.which&&13!==e.keyCode||E()},onChange:function(e){return g(e.target.value)},value:_}),r.a.createElement("div",{className:N()(oa.a.sendButtonWrapper,"input-group-append")},r.a.createElement("button",{type:"button",className:N()(oa.a.sendButton,"btn btn-light"),onClick:function(){return E()}},"\u276f")))):r.a.createElement("div",null))},sa=t(63),la=t.n(sa);var ia=function(e){var a=Object(n.useState)(!1),t=Object(d.a)(a,2),o=t[0],c=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:la.a.chatBar},r.a.createElement("div",{className:la.a.chatBarContainer},r.a.createElement("div",{className:N()(la.a.chatToggleIcon,la.a.unselectable),alt:"Toggle chat",title:"Toggle chat",draggable:"false",onContextMenu:function(e){e.preventDefault()},onClick:function(){return c(!o)}}),r.a.createElement(ca,{display:o,userMetadata:e.userMetadata,msgList:e.msgList,handleSendMsg:function(a,t,n,r){e.handleSendMsg(a,t,n,r)}}))))},ua=t(132),ma=t.n(ua),da=t(133),pa=t.n(da),fa=t(78),ba=t.n(fa),va=t(64),ha=t.n(va),_a=t(17);var ga=function(e){var a=Object(n.useRef)(null),t=Object(n.useState)(0),o=Object(d.a)(t,2),c=o[0],s=o[1],l=Object(n.useState)(0),i=Object(d.a)(l,2),p=i[0],f=i[1],b=Object(n.useState)(0),v=Object(d.a)(b,2),h=v[0],g=v[1],E=Object(n.useState)(0),C=Object(d.a)(E,2),y=C[0],x=C[1],w=Object(n.useState)((new Date).getTime()),S=Object(d.a)(w,2),N=S[0],O=S[1],j=Object(n.useState)(""),B=Object(d.a)(j,2),T=B[0],I=B[1],k=Object(n.useState)({}),M=Object(d.a)(k,2),W=M[0],D=M[1],R=Object(n.useState)(!1),P=Object(d.a)(R,2),V=P[0],A=P[1],U=Object(n.useState)(!1),L=Object(d.a)(U,2),q=L[0],H=L[1],F=Object(n.useState)([]),G=Object(d.a)(F,2),z=G[0],Y=G[1],J=Object(n.useState)([]),X=Object(d.a)(J,2),Q=X[0],K=X[1],Z=function(e,t){var n=t;n.length>=100&&n.shift(),n=n.concat([e]),a.current.emit(_a.UPD_MSGS,{newMsgList:n}),K(n)};window.onbeforeunload=function(){a.current.close()};var $=function(){var e=Object(m.a)(u.a.mark((function e(t){var n,r,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=t.trim())?((n=document.createElement("a")).href=t,r=n.hostname.split("."),o=ma.a.parse(n.search),pa()(t)&&r.includes("youtube")&&o.v?((c=new Image).src="http://img.youtube.com/vi/"+o.v+"/mqdefault.jpg",c.onload=function(){120!==c.width?a.current.emit(_a.REQ_VIDEO,{query:o.v}):o.v&&ee(o.v)}):ee(t)):Y([]);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ee=function(){var e=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("https://www.googleapis.com/youtube/v3/search",{params:{key:"AIzaSyChiszyvGHuwnrDSo5SfoWToqtf-h5YQmk",q:a,maxResults:50,part:"snippet",type:"video",videoEmbeddable:"true"}}).then((function(e){if(e.data&&e.data.items){var a=e.data.items;Y(a)}})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ae=Object(n.useCallback)((function(e,t){a.current=e,e.on("connect",Object(m.a)(u.a.mark((function a(){var n,r,o;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return O((new Date).getTime()),n="",r="",o=!1,a.next=6,_.a.post("http://localhost:5000/api/rooms/userinfo",{roomCode:t.roomCode,userId:t.userId}).then((function(e){e&&e.data&&(n=e.data.realName,r=e.data.dispName,o=e.data.isOwner)})).catch((function(e){return console.log(e)}));case 6:D({realName:n,dispName:r,isOwner:o}),r?(e.emit(_a.JOIN_ROOM,{roomId:t.roomCode,userId:t.userId,realName:n,dispName:r,isOwner:o}),e.emit(_a.GET_USERS),e.emit(_a.SEND_NTCE,{msgContent:"*".concat(r+(n?" ("+n+")":""),"* has joined the room.")})):window.location.pathname="/rooms";case 8:case"end":return a.stop()}}),a)})))),e.on(_a.END_VIDEO,(function(e){f(e.endTime)})),e.on(_a.SET_VID,(function(e){e.respVideo&&I(e.respVideo),e.respVideoTime&&s(e.respVideoTime)})),e.on(_a.GET_USERS,(function(e){e.userCount&&x(e.userCount)})),e.on(_a.SET_PLAY,(function(e){void 0!==e.playVideo&&A(e.playVideo)})),e.on(_a.NAV_VTIME,(function(e){void 0!==e.newTime&&f(e.newTime)})),e.on(_a.RESP_MSG,(function(e){})),e.on(_a.SEND_MSG,(function(e){!function(e,a,t,n,r){var o=new Date,c={notice:!1,content:n,key:o.getTime(),senderDisp:e,senderReal:a,senderIsOwner:t,timestamp:[o.getHours(),o.getMinutes(),o.getSeconds()]};Z(c,r)}(e.senderDisp,e.senderReal,e.senderIsOwner,e.msgContent,e.currMsgList)})),e.on(_a.SEND_NTCE,(function(e){!function(e,a){var t={notice:!0,content:e,key:(new Date).getTime()};Z(t,a)}(e.msgContent,e.currMsgList)})),e.on(_a.SET_MSGS,(function(e){K(e.currMsgList?e.currMsgList:[])}))}),[e.room.match.params.code]);return Object(n.useEffect)((function(){T||I(a.current?a.current.videoId:"bfpPArfDTGw")}),[T]),Object(n.useEffect)((function(){(a.current||ha()("http://localhost:5000")).emit(_a.NAV_VTIME,{newTime:p})}),[p]),Object(n.useEffect)((function(){var e=a.current||ha()("http://localhost:5000");e.off(_a.GET_VTIME),e.on(_a.GET_VTIME,(function(){e.emit(_a.SET_VTIME,{currVideoTime:h})}))}),[h]),Object(n.useEffect)((function(){(a.current||ha()("http://localhost:5000")).emit(_a.SET_PLAY,{playVideo:V})}),[V]),Object(n.useEffect)((function(){(function(){var t=Object(m.a)(u.a.mark((function t(){var n,r,o,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.post("http://localhost:5000/api/users/roomauth/verify");case 2:if(n=t.sent,r=e.room.match.params.code||"",n.data&&r&&n.data.roomCode===r){t.next=7;break}return window.location.href="/",t.abrupt("return");case 7:o=n.data.id||"",c=ha()("http://localhost:5000")||a.current,ae(c,{roomCode:r,userId:o}),H(!0);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[ae,e.room.match.params.code]),r.a.createElement(r.a.Fragment,null,q?r.a.createElement(r.a.Fragment,null,r.a.createElement(Le,{searchHandler:$}),r.a.createElement("div",{className:ba.a.videoPlayerWrapper},r.a.createElement("div",{className:ba.a.videoPlayer},r.a.createElement(ea,{videoId:T,isPlaying:V,offsetExecTime:N,startTime:c,skipTime:p,userCount:y,timeHandler:function(e){g(e)},playHandler:function(e){A(e)},skipHandler:function(e){f(e)},endObserver:function(e){a.current.emit(_a.END_VIDEO,{endTime:e})}}))),r.a.createElement("div",{className:ba.a.pickerContainer},r.a.createElement(Je,{videoResults:z,clickHandler:function(e){a.current.emit(_a.REQ_VIDEO,{query:e}),window.scrollTo(0,0)}})),r.a.createElement(Ve,null),r.a.createElement(ia,{userMetadata:W,msgList:Q,handleSendMsg:function(e,t,n,r){a.current.emit(_a.SEND_MSG,{senderDisp:e,senderReal:t,senderIsOwner:n,msgContent:r,currMsgList:Q})}})):r.a.createElement("div",null))};var Ea=function(){return r.a.createElement(s.a,null,r.a.createElement(ke,null),r.a.createElement(l.a,{exact:!0,path:"/",render:function(){return r.a.createElement("div",null,r.a.createElement(O,null),r.a.createElement(ie,null),r.a.createElement(Ve,null))}}),r.a.createElement(l.a,{exact:!0,path:"/rooms",render:function(){return r.a.createElement("div",null,r.a.createElement(O,null),r.a.createElement(ce,null),r.a.createElement(Ve,null))}}),r.a.createElement(l.a,{exact:!0,path:"/rooms/:code",render:function(e){return r.a.createElement("div",null,r.a.createElement(ga,{room:e}))}}),r.a.createElement(l.a,{exact:!0,path:"/terms",render:function(){return r.a.createElement("div",null,r.a.createElement(O,null),r.a.createElement(De,null),r.a.createElement(Ve,null))}}),r.a.createElement(l.a,{exact:!0,path:"/login",render:function(){return r.a.createElement("div",null,r.a.createElement(Oe,null),r.a.createElement(Ve,null))}}),r.a.createElement(l.a,{exact:!0,path:"/signup",render:function(){return r.a.createElement("div",null,r.a.createElement(ye,null),r.a.createElement(Ve,null))}}))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ea,null)),document.getElementById("root"))},23:function(e,a,t){e.exports={unselectable:"LogInWindow_unselectable__U5qXL",logInWrap:"LogInWindow_logInWrap__3fL3z",logInBox:"LogInWindow_logInBox__mo257",iconContainer:"LogInWindow_iconContainer__3puOw",iconHelper:"LogInWindow_iconHelper__2p9L9",icon:"LogInWindow_icon__21CJA",iconTextContainer:"LogInWindow_iconTextContainer__3m7xE",formWrapper:"LogInWindow_formWrapper__Hsqg_",formInputSeparator:"LogInWindow_formInputSeparator__1-b9A",formInput:"LogInWindow_formInput__1Oo1_",formCheckSubContainer:"LogInWindow_formCheckSubContainer__1ZsIW",checkboxContainer:"LogInWindow_checkboxContainer__l8Ey4",logInContainer:"LogInWindow_logInContainer__2x3jE",logInButton:"LogInWindow_logInButton__1_0Zy",errorMessage:"LogInWindow_errorMessage__26Fof"}},24:function(e,a,t){e.exports={roomBar:"RoomNavbar_roomBar__3ImNE",roomBarContainer:"RoomNavbar_roomBarContainer__2usAn",roomBarContent:"RoomNavbar_roomBarContent__158g6",unselectable:"RoomNavbar_unselectable__3dmrC",navLeft:"RoomNavbar_navLeft__2ccTU",navRight:"RoomNavbar_navRight__3XA6X",navCenter:"RoomNavbar_navCenter__3zXac",barWrapper:"RoomNavbar_barWrapper__3689s",barInputGroup:"RoomNavbar_barInputGroup__3Cgov",searchForm:"RoomNavbar_searchForm__3W4Dk",searchButton:"RoomNavbar_searchButton__2ky6e"}},35:function(e,a){e.exports={V_UNSTARTED:-1,V_END:0,V_PLAY:1,V_PAUSE:2,V_BUFFER:3,V_CUE:5}},36:function(e,a,t){e.exports={chatBox:"ChatBox_chatBox__1pmPO",chatRoomContainer:"ChatBox_chatRoomContainer__1nhsO",msgBoxContainer:"ChatBox_msgBoxContainer__wxb3Y",msgWidgContainer:"ChatBox_msgWidgContainer__3q61u",chatForm:"ChatBox_chatForm__18cTW",sendButtonWrapper:"ChatBox_sendButtonWrapper__1zlPs",sendButton:"ChatBox_sendButton__1dgaq"}},41:function(e,a,t){e.exports={formSeparator:"JoinRoomModal_formSeparator__1a8G7",contentContainer:"JoinRoomModal_contentContainer__2EBUL",contentBox:"JoinRoomModal_contentBox__2UIhj",closeButton:"JoinRoomModal_closeButton__SL3WV"}},42:function(e,a,t){e.exports={unselectable:"VideoCard_unselectable__3B8Fk",videoCard:"VideoCard_videoCard__3Iwmj",videoTitleWrapper:"VideoCard_videoTitleWrapper__3yi9t",videoTitleText:"VideoCard_videoTitleText__3bHa3",videoAuthorText:"VideoCard_videoAuthorText__j9-JD"}},60:function(e,a,t){e.exports={unselectable:"CreateRoomButton_unselectable__1PEYH",createButton:"CreateRoomButton_createButton__1XHPq",formSeparator:"CreateRoomButton_formSeparator__2IVww",closeButton:"CreateRoomButton_closeButton__DmNpj"}},61:function(e,a,t){e.exports={footer:"Footer_footer__11Inf",termsContainer:"Footer_termsContainer__2Oajo",termsWrapper:"Footer_termsWrapper__35Ovy",termsAnchor:"Footer_termsAnchor__3msoV"}},62:function(e,a,t){e.exports={chatMsgBox:"ChatMessage_chatMsgBox__2zqKA",chatMsgHeader:"ChatMessage_chatMsgHeader__1GqD2",chatMsgContent:"ChatMessage_chatMsgContent__2-IIt",chatMsgTimestamp:"ChatMessage_chatMsgTimestamp__2JYAi"}},63:function(e,a,t){e.exports={unselectable:"RoomChatFooter_unselectable__3jCXU",chatBar:"RoomChatFooter_chatBar__lIrs4",chatBarContainer:"RoomChatFooter_chatBarContainer__1Gi12",chatToggleIcon:"RoomChatFooter_chatToggleIcon__2hcVo"}},78:function(e,a,t){e.exports={videoPlayer:"Room_videoPlayer__5KNrX",videoPlayerWrapper:"Room_videoPlayerWrapper__1R_Tz",pickerContainer:"Room_pickerContainer__2_QaS"}},9:function(e,a,t){e.exports={navbar:"Navbar_navbar__2rXmn",navbarContainer:"Navbar_navbarContainer__2R4y_",navIconSeparator:"Navbar_navIconSeparator__2jHHd",navSeparator:"Navbar_navSeparator__11ywO",unselectable:"Navbar_unselectable__3cIyo",navLeft:"Navbar_navLeft__1PW1e",navRight:"Navbar_navRight__m1hkl",bIcon:"Navbar_bIcon__VvXk_",capsule:"Navbar_capsule__CxHSI",delayed:"Navbar_delayed__1Fb96",sqButton:"Navbar_sqButton__2q_1I",bWebsite:"Navbar_bWebsite__rOanc",hover:"Navbar_hover__Alv7Y",active:"Navbar_active__2A6C8",bLogin:"Navbar_bLogin__1wKiu",bSignUp:"Navbar_bSignUp__ErQyt"}},94:function(e,a,t){e.exports={unselectable:"TermsBox_unselectable__1bHOQ",termsboxContainer:"TermsBox_termsboxContainer__ZMYFA",separatorTop:"TermsBox_separatorTop__di7zG",roomButton:"TermsBox_roomButton__bErvY"}}},[[141,1,2]]]);
//# sourceMappingURL=main.423d82eb.chunk.js.map